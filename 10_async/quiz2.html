<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      //   function call(name, cb) {
      //     setTimeout(function () {
      //       console.log(name);
      //       cb(name);
      //     }, 1000);
      //   }
      //   function back(cb) {
      //     setTimeout(function () {
      //       console.log("back");
      //       cb("back");
      //     }, 1000);
      //   }
      //   function hell(cb) {
      //     setTimeout(function () {
      //       cb("callback hell");
      //     }, 1000);
      //   }

      //   call("kim", function (name) {
      //     console.log(name + "반가워");
      //     back(function (txt) {
      //       console.log(txt + "를 실행했구나");
      //       hell(function (msg) {
      //         console.log("여기는" + msg);
      //       });
      //     });
      //   });

      function call(name) {
        return new Promise(function (resolve, reject) {
          setTimeout(function () {
            console.log(name);
            resolve(name);
          }, 1000);
        });
      }

      function back(txt) {
        return new Promise(function (resolve, reject) {
          setTimeout(function () {
            txt = "back";
            console.log(txt);
            resolve(txt);
          }, 1000);
        });
      }

      function hell(msg) {
        return new Promise(function (resolve, reject) {
          setTimeout(function () {
            msg = "callback hell";
            console.log(msg);
            resolve(msg);
          }, 1000);
        });
      }

      call("kim")
        .then(function (name) {
          result = `${name}+반가워`;
          return back(result);
        })
        .then(function (txt) {
          result = `${txt} + 를 실행했구나`;
          return hell(result);
        })
        .then(function (msg) {
          result = `여기는 + ${msg}`;
        });
    </script>
  </body>
</html>
